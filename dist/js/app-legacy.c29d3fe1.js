(function(){"use strict";var t={6485:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var s=n(9567),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[!0===t.isLogin?n("todo-app",{on:{backToLogin:t.backToLogin}}):n("login-app",{on:{login:t.login}})],1)},i=[],a=n(6198),r=(n(8975),n(6166)),c=n.n(r),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",{staticClass:"text-center"},[t._v("TodoList")]),n("todo-button",{attrs:{placeholder:"代辦事項",buttonText:"新增",isEdit:!1,newTask:""},on:{submit:t.submitTask}}),n("todo-items",{attrs:{tasks:t.todos,editIndex:t.editIndex},on:{editTasks:t.editTasks,deleteTask:t.deleteTask,checkTask:t.checkTask,submitTask:t.submitTask,submitEditTask:t.submitEditTask}})],1)},d=[],l=(n(8309),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table"},[n("thead",[t._m(0),t._l(t.tasks,(function(e,s){return n("todo-item",{key:s,attrs:{index:s,task:e,taskName:t.tasks[s].name,isEditing:s===t.editIndex},on:{editTasks:t.editTasks,deleteTask:t.deleteTask,checkTask:t.checkTask,submitTask:t.submitTask,submitEditTask:t.submitEditTask}})}))],2),n("tbody")])}),p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{scope:"col"}},[t._v("#")]),n("th",{attrs:{scope:"col"}},[t._v("事項")]),n("th",{attrs:{scope:"col"}},[t._v("狀態")]),n("th",{attrs:{scope:"col"}},[t._v("刪除")]),n("th",{attrs:{scope:"col"}},[t._v("修改")]),n("th",{attrs:{scope:"col"}},[t._v("完成")])])}],m=(n(9653),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v(t._s(t.index))]),t.isEditing?n("td",{attrs:{scope:"row"}},[n("todo-button",{attrs:{placeholder:"代辦事項",buttonText:"確認更改",initValue:t.task.name},on:{submit:t.submitEditTask}})],1):n("td",{attrs:{scope:"row"}},[t._v(t._s(t.task.name))]),n("td",{class:{"text-danger":t.task.isComplete,"text-success":!t.task.isComplete}},[t._v(" "+t._s(t.task.isComplete?"完成":"進行中")+" ")]),n("td",[n("button",{staticClass:"text-center",on:{click:function(e){return t.deleteTask(t.index)}}},[n("i",{staticClass:"fa-regular fa-trash-can"})])]),n("td",[n("button",{staticClass:"text-center",on:{click:function(e){return t.editTasks(t.index)}}},[n("i",{staticClass:"fa-regular fa-pen-to-square"})])]),n("td",[n("label",{staticClass:"form-check-label",attrs:{for:"checkInput"+t.index}},[n("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"checkInput"+t.index},domProps:{checked:t.task.isComplete},on:{change:function(e){return t.checkTask(t.index)}}})])])])}),f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex"},[n("label",{attrs:{for:"inputTask"}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputText,expression:"inputText",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"inputTask",placeholder:t.placeholder},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("button",{staticClass:"btn btn-warning rounded-20",on:{click:t.submit}},[t._v(t._s(t.buttonText))])])},k=[],g={props:{placeholder:String,buttonText:String,initValue:String},data:function(){return{inputText:this.initValue}},methods:{submit:function(){var t=this.inputText;0!==t.length&&this.$emit("submit",this.inputText)}}},b=g,T=n(1001),v=(0,T.Z)(b,h,k,!1,null,"bafe3ffc",null),x=v.exports,w={components:{TodoButton:x},props:{index:Number,isEditing:Boolean,task:Object},methods:{editTasks:function(t){this.$emit("editTasks",t)},deleteTask:function(t){this.$emit("deleteTask",t)},submitEditTask:function(t){this.$emit("submitEditTask",t)},checkTask:function(t){this.$emit("checkTask",t)}}},_=w,C=(0,T.Z)(_,m,f,!1,null,"a844b36a",null),L=C.exports,y={props:{tasks:Array,editIndex:Number},components:{TodoItem:L},methods:{editTasks:function(t){this.$emit("editTasks",t)},deleteTask:function(t){this.$emit("deleteTask",t)},submitTask:function(t){this.$emit("submitTask",t)},submitEditTask:function(t){this.$emit("submitEditTask",t)},checkTask:function(t){this.$emit("checkTask",t)}}},E=y,$=(0,T.Z)(E,l,p,!1,null,"49b66cf2",null),R=$.exports;c().defaults.baseURL="/api";var Z={components:{TodoItems:R,TodoButton:x},name:"HelloWorld",props:{msg:String},data:function(){return{newTask:"",editIndex:-1,checked:!1,tasks:[{name:"洗衣服",isComplete:!0},{name:"修理郵筒",isComplete:!1},{name:"倒垃圾",isComplete:!1}],todos:[]}},created:function(){this.getTodos(),console.log(this.todos)},methods:{backToLogin:function(){this.$emit("backToLogin")},getTodos:function(){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c().get("/todos");case 2:n=e.sent,t.todos=n.data.todos;case 4:case"end":return e.stop()}}),e)})))()},getTodo:function(t){return(0,a.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c().get("/todos/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.todo);case 4:case"end":return e.stop()}}),e)})))()},submitTask:function(t){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.tasks.push({name:t,isComplete:!1}),n.next=3,c().post("/todos",{name:t},{headers:{"Content-Type":"application/json; charset=utf-8"}});case 3:s=n.sent,console.log(s.data),"login error"===s.data.error_code&&e.backToLogin(),e.todos=s.data.todos;case 7:case"end":return n.stop()}}),n)})))()},deleteTask:function(t){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.todos[t].id,n.next=3,c()["delete"]("/todos/".concat(s));case 3:o=n.sent,"login error"===o.data.error_code&&e.backToLogin(),e.todos=o.data.todos;case 6:case"end":return n.stop()}}),n)})))()},editTasks:function(t){this.editIndex=t,this.editTask=this.tasks[t].name},submitEditTask:function(t){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.tasks[e.editIndex].name=t,s=e.todos[e.editIndex].id,n.next=4,c().put("/todos/".concat(s),{name:t,isComplete:!1},{headers:{"Content-Type":"application/json; charset=utf-8"}});case 4:o=n.sent,"login error"===o.data.error_code&&e.backToLogin(),e.todos=o.data.todos,e.editIndex=-1;case 8:case"end":return n.stop()}}),n)})))()},checkTask:function(t){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.tasks[t].isComplete=!e.tasks[t].isComplete,s=e.todos[t].id,o=e.todos[t].name,n.next=5,c().put("/todos/".concat(s),{name:o,isComplete:!1},{headers:{"Content-Type":"application/json; charset=utf-8"}});case 5:i=n.sent,"login error"===i.data.error_code&&e.backToLogin(),e.todos=i.data.todos;case 8:case"end":return n.stop()}}),n)})))()}}},I=Z,O=(0,T.Z)(I,u,d,!1,null,"2091d55e",null),j=O.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-red-300 d-flex flex-column justify-content-center align-items-center loginApp w-25 m-auto"},[n("div",{staticClass:"input-group mb-3"},[n("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-default"}},[t._v("帳號")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),n("div",{staticClass:"input-group mb-3"},[n("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-default"}},[t._v("密碼")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.login}},[t._v("登入")])])},N=[],P={data:function(){return{account:null,password:null}},methods:{login:function(){this.$emit("login",this.account,this.password)}}},S=P,A=(0,T.Z)(S,z,N,!1,null,"378ba42a",null),G=A.exports,U={components:{LoginApp:G,TodoApp:j},name:"App",data:function(){return{isLogin:!1}},mounted:function(){this.isLogin=this.getLogin()},methods:{getLogin:function(){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c().defaults.baseURL="/api",e.next=3,c().get("/login");case 3:n=e.sent,t.isLogin=n.data.isLogin;case 5:case"end":return e.stop()}}),e)})))()},login:function(t,e){var n=this;return(0,a.Z)(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return c().defaults.baseURL="/api",s.next=3,c().post("/login",{account:t,password:e});case 3:o=s.sent,n.isLogin=o.data.isLogin,n.isLogin||alert("帳號密碼錯誤");case 6:case"end":return s.stop()}}),s)})))()},backToLogin:function(){this.isLogin=!1}}},B=U,V=(0,T.Z)(B,o,i,!1,null,null,null),q=V.exports;s.Z.config.productionTip=!1,new s.Z({el:"#app",render:function(t){return t(q)}}).$mount("#app")}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={id:s,loaded:!1,exports:{}};return t[s](i,i.exports,n),i.loaded=!0,i.exports}n.m=t,function(){var t=[];n.O=function(e,s,o,i){if(!s){var a=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],i=t[d][2];for(var r=!0,c=0;c<s.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(r=!1,i<a&&(a=i));if(r){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[s,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,a=s[0],r=s[1],c=s[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(c)var d=c(n)}for(e&&e(s);u<a.length;u++)i=a[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(d)},s=self["webpackChunktodo_list"]=self["webpackChunktodo_list"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(6485)}));s=n.O(s)})();
//# sourceMappingURL=app-legacy.c29d3fe1.js.map